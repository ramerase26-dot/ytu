<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ¡ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</title>
    <style>
        /* Ù†ÙØ³ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© */
    </style>
</head>
<body>
    <div class="container">
        <!-- Ù†ÙØ³ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¨Ù‚ -->
    </div>

    <script>
        // âš ï¸ âš ï¸ âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ø§ ØºÙŠØ± Ø¢Ù…Ù†! âš ï¸ âš ï¸ âš ï¸
        const BOT_TOKEN = "8497054736:AAF_EcYGx5UuEMdRbaYZz8zRCCkVYBwPHq4";
        const BOT_API_URL = `https://api.telegram.org/bot${BOT_TOKEN}`;
        
        // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('user_id');
        const username = urlParams.get('username');
        const lastCharge = urlParams.get('last_charge');
        
        function sendPrizeToBot(prize) {
            if (!userId) {
                alert('Ø®Ø·Ø£: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ø±Ù Ù…Ø³ØªØ®Ø¯Ù…');
                return;
            }
            
            // 1. Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
            fetch(`${BOT_API_URL}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: userId,
                    text: `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ Ø±Ø¨Ø­Øª ${prize}$\n\nØ³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯Ùƒ.`
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.ok) {
                    console.log('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø¨Ù†Ø¬Ø§Ø­');
                    
                    // 2. Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
                    fetch(`${BOT_API_URL}/sendMessage`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: "123456789", // Ù…Ø¹Ø±Ù Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
                            text: `ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸:\nğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${username}\nğŸ†” ID: ${userId}\nğŸ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©: ${prize}$\nğŸ’° Ø¢Ø®Ø± Ø´Ø­Ù†: ${lastCharge}$`
                        })
                    });
                } else {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©:', data);
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ø¥Ø¶Ø§ÙØ© Ø±ØµÙŠØ¯ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¨ÙˆØª
        function addBalanceToUser(amount) {
            // Ù‡Ø°Ø§ ÙŠØªØ·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ù„ÙŠØªÙ‚Ø¨Ù„ Ø£ÙˆØ§Ù…Ø± Ù…Ù† Ø§Ù„Ø®Ø§Ø±Ø¬
            fetch(`${BOT_API_URL}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: userId,
                    text: `/addbalance ${amount}`
                })
            });
        }
        
        // Ø¯Ø§Ù„Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ callback_data Ù„Ù„Ø¨ÙˆØª
        function createCallbackData() {
            const callbackData = JSON.stringify({
                action: 'wheel_prize',
                user_id: userId,
                prize: prizeAmount,
                timestamp: Date.now()
            });
            
            // Ø¥Ø±Ø³Ø§Ù„ Ùƒ callback query (ÙŠØªØ·Ù„Ø¨ Ù…Ø¹Ø±Ù callback_query_id)
            fetch(`${BOT_API_URL}/answerCallbackQuery`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    callback_query_id: 'dummy_id', // ØªØ­ØªØ§Ø¬ Ù„ØªÙˆÙ„ÙŠØ¯ ID Ø­Ù‚ÙŠÙ‚ÙŠ
                    text: `ØªÙ… Ù…Ù†Ø­ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© ${prizeAmount}$`
                })
            });
        }
    </script>
</body>
</html>
