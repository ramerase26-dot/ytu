<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ ğŸ¡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            color: #4cc9f0;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 0 0 10px #4cc9f0;
        }
        
        .status {
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #4cc9f0;
        }
        
        .wheel-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 30px auto;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            background-image: url('https://i.postimg.cc/wB7MWQsq/IMG-20260129-003341-890.jpg');
            background-size: cover;
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.83, 0.67);
            border: 8px solid transparent;
        }
        
        .wheel.spinning {
            border: 8px solid gold;
            box-shadow: 
                0 0 20px gold,
                0 0 40px gold,
                0 0 60px gold,
                0 0 80px gold;
            animation: neonGlow 0.5s infinite alternate;
        }
        
        @keyframes neonGlow {
            from {
                border-color: gold;
                box-shadow: 
                    0 0 10px gold,
                    0 0 20px gold,
                    0 0 30px gold;
            }
            to {
                border-color: #ffd700;
                box-shadow: 
                    0 0 20px gold,
                    0 0 40px gold,
                    0 0 60px gold,
                    0 0 80px gold;
            }
        }
        
        .sector {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            left: 0;
            top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 60px;
            z-index: 10;
            filter: drop-shadow(0 0 10px gold);
        }
        
        .spin-btn {
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 24px;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px 0;
            transition: all 0.3s;
            box-shadow: 0 0 20px #4cc9f0;
        }
        
        .spin-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px #4cc9f0;
        }
        
        .spin-btn:disabled {
            background: #666;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        .result {
            background: rgba(76, 201, 240, 0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #4cc9f0;
            display: none;
        }
        
        .prize {
            font-size: 2em;
            color: gold;
            text-shadow: 0 0 10px gold;
        }
        
        audio {
            display: none;
        }
        
        .logo {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¡ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ ğŸ¡</h1>
        
        <div class="status" id="status">
            <p id="eligibility">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù‡Ù„ÙŠØ©...</p>
            <p id="lastSpin">Ø¢Ø®Ø± ØªØ¯ÙˆÙŠØ±Ø©: ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ</p>
        </div>
        
        <div class="wheel-container">
            <div class="wheel" id="wheel">
                <!-- Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª ØªØ¶Ø§Ù Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
            <img src="https://cdn-icons-png.flaticon.com/512/66/66831.png" class="pointer" alt="pointer">
        </div>
        
        <button class="spin-btn" id="spinBtn" onclick="spinWheel()">ğŸ”„ ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©</button>
        
        <div class="result" id="result">
            <h2>ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! ğŸ‰</h2>
            <div class="prize" id="prizeText"></div>
            <p id="resultMessage"></p>
        </div>
        
        <audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-casino-roulette-spin-1035.mp3"></audio>
        <audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ØºÙŠØ± Ø¢Ù…Ù† - Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ ÙÙ‚Ø·)
        const TELEGRAM_BOT_TOKEN = "8497054736:AAF_EcYGx5UuEMdRbaYZz8zRCCkVYBwPHq4";
        const urlParams = new URLSearchParams(window.location.search);
        const injection = urlParams.get('inject') || 'no';
        const userId = urlParams.get('user_id') || '';
        const forcedPrize = urlParams.get('prize') || '';
        
        let isEligible = injection === 'yes';
        let hasSpun = false;
        let wheelSpinning = false;
        let wheelAngle = 0;
        
        const prizes = [
            "5000", "10000", "50000", "100000", "Ø­Ø¸ Ø£ÙˆÙØ±"
        ];
        
        const probabilities = [0.02, 0.01, 0.00, 0.00, 0.97];
        
        const colors = ['#4cc9f0', '#c0c0c0', '#4cc9f0', '#c0c0c0', '#4cc9f0'];
        
        function initWheel() {
            const wheel = document.getElementById('wheel');
            wheel.innerHTML = '';
            
            for (let i = 0; i < 5; i++) {
                const sector = document.createElement('div');
                sector.className = 'sector';
                sector.style.transform = `rotate(${i * 72}deg)`;
                sector.style.background = `linear-gradient(45deg, ${colors[i]}, ${colors[i]}80)`;
                sector.innerHTML = `<div style="transform: rotate(36deg);">${prizes[i]}</div>`;
                wheel.appendChild(sector);
            }
            
            updateStatus();
        }
        
        function updateStatus() {
            const statusEl = document.getElementById('eligibility');
            const spinBtn = document.getElementById('spinBtn');
            
            if (isEligible) {
                statusEl.innerHTML = 'âœ… <strong>Ù…Ø¤Ù‡Ù„ Ù„Ù„ØªØ¯ÙˆÙŠØ±!</strong>';
                statusEl.style.color = '#4cc9f0';
                spinBtn.disabled = false;
            } else {
                statusEl.innerHTML = 'âŒ <strong>ØºÙŠØ± Ù…Ø¤Ù‡Ù„ Ù„Ù„ØªØ¯ÙˆÙŠØ±</strong><br>ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø´Ø­Ù† 25000 ÙÙŠ Ø¢Ø®Ø± 24 Ø³Ø§Ø¹Ø©';
                statusEl.style.color = '#ff4444';
                spinBtn.disabled = true;
            }
        }
        
        function spinWheel() {
            if (wheelSpinning || !isEligible || hasSpun) return;
            
            const wheel = document.getElementById('wheel');
            const spinBtn = document.getElementById('spinBtn');
            const spinSound = document.getElementById('spinSound');
            
            wheelSpinning = true;
            spinBtn.disabled = true;
            wheel.classList.add('spinning');
            
            spinSound.currentTime = 0;
            spinSound.play();
            
            let spins = 5 + Math.random() * 3;
            let extraRotation = Math.floor(Math.random() * 360);
            
            if (forcedPrize && forcedPrize !== '') {
                const prizeIndex = prizes.indexOf(forcedPrize);
                if (prizeIndex !== -1) {
                    extraRotation = prizeIndex * 72 + 36;
                }
            }
            
            const totalRotation = spins * 360 + extraRotation;
            
            wheel.style.transform = `rotate(${totalRotation}deg)`;
            
            setTimeout(() => {
                const winSound = document.getElementById('winSound');
                winSound.play();
                
                wheel.classList.remove('spinning');
                wheelSpinning = false;
                hasSpun = true;
                
                let selectedPrize = "Ø­Ø¸ Ø£ÙˆÙØ±";
                if (forcedPrize && forcedPrize !== '') {
                    selectedPrize = forcedPrize;
                } else {
                    const rand = Math.random();
                  let cumulative = 0;
                    for (let i = 0; i < probabilities.length; i++) {
                        cumulative += probabilities[i];
                        if (rand < cumulative) {
                            selectedPrize = prizes[i];
                            break;
                        }
                    }
                }
                
                showResult(selectedPrize);
                sendResultToBot(selectedPrize);
                
            }, 5000);
        }
        
        function showResult(prize) {
            const resultEl = document.getElementById('result');
            const prizeText = document.getElementById('prizeText');
            const resultMessage = document.getElementById('resultMessage');
            
            prizeText.textContent = prize;
            
            if (prize === "Ø­Ø¸ Ø£ÙˆÙØ±") {
                resultMessage.textContent = "Ø­Ø¸ Ø£ÙˆÙØ± ÙÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©! ğŸ€";
                prizeText.style.color = '#ff4444';
            } else {
                resultMessage.textContent = `ğŸŠ Ø±Ø¨Ø­Øª ${prize} Ù†Ù‚Ø·Ø©! Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯Ùƒ.`;
                prizeText.style.color = 'gold';
            }
            
            resultEl.style.display = 'block';
        }
        
        function sendResultToBot(prize) {
            if (!userId) return;
            
            const message = {
                user_id: userId,
                prize: prize,
                timestamp: new Date().toISOString()
            };
            
            fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: userId,
                    text: JSON.stringify(message)
                })
            }).catch(error => {
                console.error('Error sending result:', error);
            });
        }
        
        window.onload = function() {
            initWheel();
            
            if (!userId) {
                document.getElementById('status').innerHTML = 
                    '<p style="color:#ff4444">âŒ Ø®Ø·Ø£: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ø±Ù Ù…Ø³ØªØ®Ø¯Ù…</p>';
                document.getElementById('spinBtn').disabled = true;
            }
        };
    </script>
</body>
</html>
